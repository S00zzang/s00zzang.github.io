<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Business messenger based Kafka | SuJin's Portfolio</title><meta name=keywords content="Kafka,Chatbot,Real-time Messaging,Airflow,Spark,Zeppelin"><meta name=description content="SUMMARY
A program using Apache Kafka with added chatbot function.
GOAL
Implement work conversation features, chatbot functions (movies, systems, schedules), and work conversation analysis features (using Zeppelin).
PARTICIPANT
4 (PM)
ROLE
Backend(Chatbot function-schedule), Data Analysis(Conversation analysis)
TOOLS

Streaming System: Apache Kafka
Distributed Data Processing: Apache Spark
Workflow Management: Apache Airflow
Data Analysis and Visualization: Apache Zeppelin
Operating System: Linux (Ubuntu)

ARCHITECTURE
Project architecture

POINT

Send and receive real-time messages using &lsquo;KafkaProducer&rsquo; and &lsquo;KafkaConsumer&rsquo;


The producer sends the message entered by the user to Kafka, and the consumer receives the message in real time from Kafka and outputs it on the screen.



TROUBLE SHOOTING


During the data extraction process using Airflow, special characters were also extracted.
 Airflow - audit.py"><meta name=author content><link rel=canonical href=https://s00zzang.github.io/team-projects/kafka-chat/><link crossorigin=anonymous href=../../assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://s00zzang.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://s00zzang.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://s00zzang.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://s00zzang.github.io/apple-touch-icon.png><link rel=mask-icon href=https://s00zzang.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://s00zzang.github.io/team-projects/kafka-chat/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://s00zzang.github.io/team-projects/kafka-chat/"><meta property="og:site_name" content="SuJin's Portfolio"><meta property="og:title" content="Business messenger based Kafka"><meta property="og:description" content="SUMMARY A program using Apache Kafka with added chatbot function.
GOAL Implement work conversation features, chatbot functions (movies, systems, schedules), and work conversation analysis features (using Zeppelin).
PARTICIPANT 4 (PM)
ROLE Backend(Chatbot function-schedule), Data Analysis(Conversation analysis)
TOOLS Streaming System: Apache Kafka Distributed Data Processing: Apache Spark Workflow Management: Apache Airflow Data Analysis and Visualization: Apache Zeppelin Operating System: Linux (Ubuntu) ARCHITECTURE Project architecture POINT Send and receive real-time messages using ‘KafkaProducer’ and ‘KafkaConsumer’ The producer sends the message entered by the user to Kafka, and the consumer receives the message in real time from Kafka and outputs it on the screen. TROUBLE SHOOTING During the data extraction process using Airflow, special characters were also extracted. Airflow - audit.py"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="team-projects"><meta property="article:published_time" content="2024-08-23T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-23T00:00:00+00:00"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="Chatbot"><meta property="article:tag" content="Real-Time Messaging"><meta property="article:tag" content="Airflow"><meta property="article:tag" content="Spark"><meta property="article:tag" content="Zeppelin"><meta name=twitter:card content="summary"><meta name=twitter:title content="Business messenger based Kafka"><meta name=twitter:description content="SUMMARY
A program using Apache Kafka with added chatbot function.
GOAL
Implement work conversation features, chatbot functions (movies, systems, schedules), and work conversation analysis features (using Zeppelin).
PARTICIPANT
4 (PM)
ROLE
Backend(Chatbot function-schedule), Data Analysis(Conversation analysis)
TOOLS

Streaming System: Apache Kafka
Distributed Data Processing: Apache Spark
Workflow Management: Apache Airflow
Data Analysis and Visualization: Apache Zeppelin
Operating System: Linux (Ubuntu)

ARCHITECTURE
Project architecture

POINT

Send and receive real-time messages using &lsquo;KafkaProducer&rsquo; and &lsquo;KafkaConsumer&rsquo;


The producer sends the message entered by the user to Kafka, and the consumer receives the message in real time from Kafka and outputs it on the screen.



TROUBLE SHOOTING


During the data extraction process using Airflow, special characters were also extracted.
 Airflow - audit.py"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Team Project","item":"https://s00zzang.github.io/team-projects/"},{"@type":"ListItem","position":2,"name":"Business messenger based Kafka","item":"https://s00zzang.github.io/team-projects/kafka-chat/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Business messenger based Kafka","name":"Business messenger based Kafka","description":"SUMMARY A program using Apache Kafka with added chatbot function.\nGOAL Implement work conversation features, chatbot functions (movies, systems, schedules), and work conversation analysis features (using Zeppelin).\nPARTICIPANT 4 (PM)\nROLE Backend(Chatbot function-schedule), Data Analysis(Conversation analysis)\nTOOLS Streaming System: Apache Kafka Distributed Data Processing: Apache Spark Workflow Management: Apache Airflow Data Analysis and Visualization: Apache Zeppelin Operating System: Linux (Ubuntu) ARCHITECTURE Project architecture POINT Send and receive real-time messages using \u0026lsquo;KafkaProducer\u0026rsquo; and \u0026lsquo;KafkaConsumer\u0026rsquo; The producer sends the message entered by the user to Kafka, and the consumer receives the message in real time from Kafka and outputs it on the screen. TROUBLE SHOOTING During the data extraction process using Airflow, special characters were also extracted. Airflow - audit.py\n","keywords":["Kafka","Chatbot","Real-time Messaging","Airflow","Spark","Zeppelin"],"articleBody":"SUMMARY A program using Apache Kafka with added chatbot function.\nGOAL Implement work conversation features, chatbot functions (movies, systems, schedules), and work conversation analysis features (using Zeppelin).\nPARTICIPANT 4 (PM)\nROLE Backend(Chatbot function-schedule), Data Analysis(Conversation analysis)\nTOOLS Streaming System: Apache Kafka Distributed Data Processing: Apache Spark Workflow Management: Apache Airflow Data Analysis and Visualization: Apache Zeppelin Operating System: Linux (Ubuntu) ARCHITECTURE Project architecture POINT Send and receive real-time messages using ‘KafkaProducer’ and ‘KafkaConsumer’ The producer sends the message entered by the user to Kafka, and the consumer receives the message in real time from Kafka and outputs it on the screen. TROUBLE SHOOTING During the data extraction process using Airflow, special characters were also extracted. Airflow - audit.py\nSolved by adding code to filter special characters and converting data to Parquet format. It has been solved in the above way, but it is not a fundamental solution.\n→ Add the option ‘value_serializer=lambda v: json.dumps(v,ensure_ascii=False)’ to Producer and to give decoding from Consumer is the fundamental solution. Sometimes the schedule chatbot worked correctly (notifying 5 minutes before the set time), but sometimes it failed. SBchat.py\nInitially set up using crontab, but frequent file retrieval errors occurred. Switched to using ‘apscheduler’. OUTPUT chatting system chatbot function conversation analysis function GitHub https://github.com/S00zzang-portfolio/DE32-2rd_team3.git\n","wordCount":"209","inLanguage":"en","datePublished":"2024-08-23T00:00:00Z","dateModified":"2024-08-23T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://s00zzang.github.io/team-projects/kafka-chat/"},"publisher":{"@type":"Organization","name":"SuJin's Portfolio","logo":{"@type":"ImageObject","url":"https://s00zzang.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://s00zzang.github.io/ accesskey=h title="SuJin's Portfolio (Alt + H)">SuJin's Portfolio</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://s00zzang.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://s00zzang.github.io/team-projects/>Team Project</a></div><h1 class="post-title entry-hint-parent">Business messenger based Kafka</h1><div class=post-meta>2024-08-23
~ 2024-08-29</div><div class=post-meta><span title='2024-08-23 00:00:00 +0000 UTC'>August 23, 2024</span></div></header><div class=post-content><h3 id=summary>SUMMARY<a hidden class=anchor aria-hidden=true href=#summary>#</a></h3><p>A program using Apache Kafka with added chatbot function.</p><h3 id=goal>GOAL<a hidden class=anchor aria-hidden=true href=#goal>#</a></h3><p>Implement work conversation features, chatbot functions (movies, systems, schedules), and work conversation analysis features (using Zeppelin).</p><h3 id=participant>PARTICIPANT<a hidden class=anchor aria-hidden=true href=#participant>#</a></h3><p>4 (PM)</p><h3 id=role>ROLE<a hidden class=anchor aria-hidden=true href=#role>#</a></h3><p>Backend(Chatbot function-schedule), Data Analysis(Conversation analysis)</p><h3 id=tools>TOOLS<a hidden class=anchor aria-hidden=true href=#tools>#</a></h3><ul><li>Streaming System: Apache Kafka</li><li>Distributed Data Processing: Apache Spark</li><li>Workflow Management: Apache Airflow</li><li>Data Analysis and Visualization: Apache Zeppelin</li><li>Operating System: Linux (Ubuntu)</li></ul><h3 id=architecture>ARCHITECTURE<a hidden class=anchor aria-hidden=true href=#architecture>#</a></h3><p>Project architecture
<img alt=project loading=lazy src=../../images/KafkaChat/arch_project.png></p><h3 id=point>POINT<a hidden class=anchor aria-hidden=true href=#point>#</a></h3><ul><li>Send and receive real-time messages using &lsquo;KafkaProducer&rsquo; and &lsquo;KafkaConsumer&rsquo;
<img alt=point1 loading=lazy src=../../images/KafkaChat/point_1.png><ul><li>The producer sends the message entered by the user to Kafka, and the consumer receives the message in real time from Kafka and outputs it on the screen.</li></ul></li></ul><h3 id=trouble-shooting>TROUBLE SHOOTING<a hidden class=anchor aria-hidden=true href=#trouble-shooting>#</a></h3><ul><li><p>During the data extraction process using Airflow, special characters were also extracted.
<img alt=troubleshooting1 loading=lazy src=../../images/KafkaChat/ts_1.png> Airflow - audit.py</p><ul><li>Solved by adding code to filter special characters and converting data to Parquet format.</li><li>It has been solved in the above way, but it is not a fundamental solution.<br> 
→ Add the option &lsquo;value_serializer=lambda v: json.dumps(v,ensure_ascii=False)&rsquo; to Producer and to give decoding from Consumer is the fundamental solution.</li></ul></li><li><p>Sometimes the schedule chatbot worked correctly (notifying 5 minutes before the set time), but sometimes it failed.
<img alt=troubleshooting2 loading=lazy src=../../images/KafkaChat/ts_2.png> SBchat.py</p><ul><li>Initially set up using crontab, but frequent file retrieval errors occurred. Switched to using &lsquo;apscheduler&rsquo;.</li></ul></li></ul><h3 id=output>OUTPUT<a hidden class=anchor aria-hidden=true href=#output>#</a></h3><p>chatting system
<img alt=output1 loading=lazy src=../../images/KafkaChat/output_chat.png></p><p>chatbot function
<img alt=output2 loading=lazy src=../../images/KafkaChat/output_chatbot.png></p><p>conversation analysis function
<img alt=output3 loading=lazy src=../../images/KafkaChat/output_analy1.png>
<img alt=output4 loading=lazy src=../../images/KafkaChat/output_analy2.png>
<img alt=output5 loading=lazy src=../../images/KafkaChat/output_analy3.png></p><h3 id=github>GitHub<a hidden class=anchor aria-hidden=true href=#github>#</a></h3><p><a href=https://github.com/S00zzang-portfolio/DE32-2rd_team3.git>https://github.com/S00zzang-portfolio/DE32-2rd_team3.git</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://s00zzang.github.io/tags/kafka/>Kafka</a></li><li><a href=https://s00zzang.github.io/tags/chatbot/>Chatbot</a></li><li><a href=https://s00zzang.github.io/tags/real-time-messaging/>Real-Time Messaging</a></li><li><a href=https://s00zzang.github.io/tags/airflow/>Airflow</a></li><li><a href=https://s00zzang.github.io/tags/spark/>Spark</a></li><li><a href=https://s00zzang.github.io/tags/zeppelin/>Zeppelin</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://s00zzang.github.io/>SuJin's Portfolio</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>